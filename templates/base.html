<!DOCTYPE html>
<html lang="ko" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}binwalk.mind{% endblock %}</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-header">
        <div class="nav-wrapper">
            <div class="nav-left">
                <a href="{{ url_for('index') }}" class="nav-link">Home</a>
                <a href="{{ url_for('about') }}" class="nav-link">Whoami</a>
            </div>
            <div class="nav-right">
                <button class="nav-btn search-toggle" aria-label="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                </button>
                <button class="nav-btn theme-toggle" aria-label="Toggle theme">
                    <svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
                    <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Search Overlay -->
    <div class="search-overlay" id="searchOverlay">
        <div class="search-container">
            <form action="{{ url_for('search') }}" method="GET" class="search-form">
                <input type="text" name="q" placeholder="Search..." class="search-input" id="searchInput" autocomplete="off">
                <button type="button" class="search-close" id="searchClose">&times;</button>
            </form>
        </div>
    </div>

    {% block header %}{% endblock %}

    <!-- Main Content -->
    <main class="main-content">
        <div class="content-wrapper">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="flash flash-{{ category }}">{{ message }}</div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-wrapper">
            <div class="footer-content">
                <span>&copy; {{ now.year }} binwalk.mind</span>
                <span class="footer-sep">&bull;</span>
                <span>Powered by Flask & SQLite</span>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <!-- SVG Icons -->
    <svg style="display:none">
        <symbol id="icon-arrow-left" viewBox="0 0 32 32">
            <path d="M26.276 15.1h-17.917l8.554-8.373c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-10.313 10.087c-0.391 0.391-0.391 1.024 0 1.414l10.313 10.087c0.195 0.195 0.451 0.293 0.707 0.293s0.512-0.098 0.707-0.293c0.391-0.391 0.391-1.024 0-1.414l-8.554-8.387h17.917c0.553 0 1-0.448 1-1s-0.447-1-1-1z"/>
        </symbol>
        <symbol id="icon-arrow-right" viewBox="0 0 32 32">
            <path d="M5.724 16.9h17.917l-8.554 8.373c-0.391 0.391-0.391 1.024 0 1.414 0.195 0.195 0.451 0.293 0.707 0.293s0.512-0.098 0.707-0.293l10.313-10.087c0.391-0.391 0.391-1.024 0-1.414l-10.313-10.087c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414l8.554 8.387h-17.917c-0.553 0-1 0.448-1 1s0.447 1 1 1z"/>
        </symbol>
    </svg>
</body>
</html>
